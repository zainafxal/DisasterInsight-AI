name: disaster-api
channels:
  - pytorch
  - conda-forge
  - defaults
dependencies:
  # Core
  - python=3.10
  - pip
  - numpy=1.24.3
  - pandas=2.1.3
  - scikit-learn=1.3.2
  - xgboost=2.0.3
  - prophet=1.1.5
  - openpyxl=3.1.2
  - matplotlib=3.7.3
  - plotly=5.18.0

  # PyTorch CPU-only build (from pytorch channel)
  - pytorch=2.1.2
  - torchvision=0.16.2
  - torchaudio=2.1.2
  - cpuonly

  # System utilities (Prophet sometimes needs compilers)
  - gcc_linux-64  # only on Linux
  - gxx_linux-64  # only on Linux
  - make          # build tools

  # Pip dependencies
  - pip:
      - fastapi==0.104.1
      - uvicorn[standard]==0.24.0
      - transformers[torch]==4.35.2
      - accelerate==0.25.0
      - joblib==1.3.2
      - python-multipart==0.0.6
      - pydantic==2.4.2
      - python-dotenv==1.0.1
